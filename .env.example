# ============================================================================
# Masumi Network Configuration
# Reference: https://docs.masumi.network
# ============================================================================

# Masumi Node Connection
MASUMI_NODE_URL=http://localhost:8080
MASUMI_PAYMENT_SERVICE_URL=http://localhost:8080/payment
MASUMI_REGISTRY_SERVICE_URL=http://localhost:8080/registry

# Network Selection
MASUMI_NETWORK=preprod  # Options: preprod, mainnet
CARDANO_NETWORK=preprod  # Must match MASUMI_NETWORK

# Operational Mode
# - "production": Full Masumi Node integration (requires running Masumi Node)
# - "simulation": Auto-approve payments for testing (no Masumi Node needed)
# - "api": REST API mode (recommended for hackathons)
OPERATIONAL_MODE=simulation  # Options: production, simulation, api

# MIP-003 Standard Compliance
ENABLE_MIP003_VALIDATION=True  # Validate agents have required endpoints
AUTO_REGISTER_AGENTS=True      # Automatically register agents on startup

# ============================================================================
# Masumi Agent Wallets
# Generate these using: masumi-cli wallet create <name>
# Reference: https://docs.masumi.network/documentation/how-to-guides/wallet-setup
# ============================================================================

# Market Intelligence Agent
MARKET_AGENT_WALLET_ID=market_wallet_1
MARKET_AGENT_WALLET_ADDRESS=addr_test1qz...your_test_address_here

# Strategy Executor Agent
STRATEGY_AGENT_WALLET_ID=strategy_wallet_1
STRATEGY_AGENT_WALLET_ADDRESS=addr_test1qz...your_test_address_here

# Risk Guardian Agent
RISK_AGENT_WALLET_ID=risk_wallet_1
RISK_AGENT_WALLET_ADDRESS=addr_test1qz...your_test_address_here

# ============================================================================
# Cardano Blockchain Configuration
# Get FREE Blockfrost API key: https://blockfrost.io/
# ============================================================================

BLOCKFROST_PROJECT_ID=preprodYOUR_PROJECT_ID_HERE
BLOCKFROST_API_URL=https://cardano-preprod.blockfrost.io/api/v0

# For mainnet (when ready for production):
# BLOCKFROST_PROJECT_ID=mainnetYOUR_PROJECT_ID_HERE
# BLOCKFROST_API_URL=https://cardano-mainnet.blockfrost.io/api/v0

# ============================================================================
# AI/LLM Configuration
# Get FREE Groq API key: https://console.groq.com (NO CREDIT CARD NEEDED!)
# ============================================================================

GROQ_API_KEY=gsk_YOUR_GROQ_API_KEY_HERE

# Groq is 100% FREE and very fast - perfect for hackathons!
# Model options:
# - llama-3.1-70b-versatile (default, best quality)
# - llama-3.1-8b-instant (faster, smaller)
# - mixtral-8x7b-32768 (good alternative)

# Alternative LLM providers (if you prefer):
# OPENAI_API_KEY=sk_YOUR_OPENAI_API_KEY_HERE
# ANTHROPIC_API_KEY=sk-ant-YOUR_ANTHROPIC_API_KEY_HERE

# ============================================================================
# Agent Pricing (in ADA per request)
# ============================================================================

MARKET_AGENT_PRICE=0.01        # Market data queries
STRATEGY_AGENT_PRICE=0.05      # Portfolio strategy generation
RISK_AGENT_PRICE=0.02          # Risk assessment

# Payment Settings
PAYMENT_TIMEOUT_SECONDS=60                # Timeout for payment confirmation
PAYMENT_POLL_INTERVAL_SECONDS=2           # How often to check for FundsLocked
PAYMENT_MAX_POLL_ATTEMPTS=30              # Maximum polling attempts (60s total)

# ============================================================================
# API Server Configuration
# ============================================================================

API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1                  # Use 1 for development, 4+ for production
DEBUG=True                     # Set to False in production

# CORS Settings (for frontend integration)
CORS_ORIGINS=*                 # Use specific origins in production
CORS_ALLOW_CREDENTIALS=true

# ============================================================================
# Database Configuration (Optional - for production)
# ============================================================================

# PostgreSQL (for storing job history, agent metrics)
DATABASE_URL=postgresql://user:password@localhost:5432/cashpilot

# Redis (for caching, job queues)
REDIS_URL=redis://localhost:6379/0

# In simulation mode, these are not required

# ============================================================================
# DeFi Protocol APIs
# ============================================================================

MINSWAP_API_URL=https://api.minswap.org
SUNDAESWAP_API_URL=https://api.sundaeswap.finance
LIQWID_API_URL=https://api.liqwid.finance
# Add more protocols as needed

# ============================================================================
# Security & Authentication (Optional - for production)
# ============================================================================

SECRET_KEY=CHANGE_THIS_TO_RANDOM_SECRET_KEY_IN_PRODUCTION
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Generate secure key: python -c "import secrets; print(secrets.token_urlsafe(32))"

# ============================================================================
# Logging & Monitoring
# ============================================================================

LOG_LEVEL=INFO                 # Options: DEBUG, INFO, WARNING, ERROR
LOG_FORMAT=json                # Options: json, text
ENABLE_PERFORMANCE_LOGGING=True

# ============================================================================
# Quick Setup Guide
# ============================================================================
#
# 1. Get Groq API Key (FREE):
#    Visit: https://console.groq.com/
#    Sign up (no credit card needed)
#    Create API key and paste above
#
# 2. Get Blockfrost API Key (FREE):
#    Visit: https://blockfrost.io/
#    Sign up for free tier
#    Create Preprod project and paste ID above
#
# 3. Set Operational Mode:
#    - Use "simulation" for quick testing (no Masumi Node needed)
#    - Use "production" when you have Masumi Node running
#
# 4. Configure Wallets (if using production mode):
#    Follow: https://docs.masumi.network/documentation/how-to-guides/wallet-setup
#
# 5. Start the API:
#    python -m uvicorn api.main:app --reload
#
# 6. Test it works:
#    curl http://localhost:8000/health
#    curl http://localhost:8000/availability
#
# For detailed setup: See START_HERE.md
# ============================================================================
